<!DOCTYPE html>
<html>
  <head>
    <!--Background Information -->
    <title>History</title>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <!-- CSS References -->
    <link rel="stylesheet" href="vendor/bootstrap/css/bootstrap.min.css">
    <link rel="stylesheet" href="vendor/fontawesome-free/css/all.min.css">
    <link rel="stylesheet" href="vendor/bootstrap4-toggle/css/bootstrap4-toggle.min.css">
    <link rel="stylesheet" href="vendor/bootstrap-sidebar/bootstrap-sidebar.css">
    <link rel="stylesheet" href="css/common.css">
    <link rel="stylesheet" href="css/history.css">

    <!-- JS References -->
    <script src="vendor/jquery/jquery.min.js"></script>
    <script src="vendor/bootstrap/js/bootstrap.bundle.js"></script>
    <script src="vendor/bootstrap4-toggle/js/bootstrap4-toggle.min.js"></script>
    <script src="vendor/scannerdetection/jquery.scannerdetection.min.js"></script>
    <script src="vendor/js-cookie/js.cookie.js"></script>
    <script src="vendor/moment/moment.min.js"></script>
    <script src="js/common.js"></script>
    <script src="js/sidebar.js"></script>
    <script src="js/history.js"></script>
  </head>
  <body>

  <nav style="height:100%" id="sidebar" class="sidepanel bg-dark text-light">
  <nav class="navbar sidebarCollapse">
    <button type="button" onclick="closeSidebar()" class="btn btn-icon sidebarButton">
      <i class="fa fa-bars"></i>
    </button>
    <h6 style="margin:auto;" id="info-username">Teacher Name</h6>
  </nav>
  <a class="sidebar-link" id href="index.html">Home Page</a>
  <a class="sidebar-link" href="overviewdecider.html">Overview</a>
  <a class="sidebar-link" href="history.html">History</a>
</nav>
  
  <nav class="navbar navbar-expand-md navbar-dark bg-dark text-light">
    <div class="order-0">
      <button type="button" onclick="openSidebar()" class="btn btn-icon sidebarButton">
        <i class="fa fa-bars"></i>
      </button>
    </div>

    <!--Center Logo-->
    <div class="mx-auto order-1">
      <a class="navbar-brand" href="index.html"><img src="assets/innexo_logo.png"> Innexo</a>
    </div>
    
    <!-- Right-Navigation Side -->
    <div class="navbar order-3">
      <ul class="navbar-nav ml-auto">
        <li class="nav-item">
          <!-- Settings Wheel -->
          <div class="dropdown show">
            <a class="dropdown-toggle" id="user-dropdown" data-toggle="dropdown">
              <span class="fa fa-cog"></span>
            </a>
            <div class="dropdown-menu dropdown-menu-right">
              <a class="dropdown-item" href="#">Settings</a>
              <a class="dropdown-item" href="login.html">Sign Out</a>
            </div>
          </div>
        </li>
      </ul>
    </div>
  </nav>
  <div class="container">
    <div class="row" style="padding:0px">
      <div class="card col-sm-5">
        <h5><b><i class="fa fa-search" style="padding-top:20px;padding-bottom:10px;"></i> Search</b></h5><br>
          <div class="form-group row">
          <label for="example-text-input" class="col-sm-4 col-form-label">Student Name:</label>
          <div class="col-sm-6">
            <input class="form-control" type="text" placeholder="Name" id="name-input">
          </div>
          </div>
          <div class="form-group row">
          <label for="example-text-input" class="col-sm-4 col-form-label">Student ID:</label>
          <div class="col-sm-6">
            <input class="form-control" type="text" placeholder="ID Number" id="ID-input">
          </div>
          </div>
          <div class="form-group row">
          <label for="date-input" class="col-sm-4 col-form-label">From:</label>
          <div class="col-sm-6">
            <input style="margin-bottom: 5px" class="form-control" type="date" id="min-date">
            <input class="form-control" type="time" value="07:00" id="min-time">
          </div>
          </div>
          <div class="form-group row">
          <label for="date-input" class="col-sm-4 col-form-label">To:</label>
          <div class="col-sm-6">
            <input style="margin-bottom: 5px" class="form-control" type="date" id="max-date">
            <input class="form-control" type="time" value="15:25" id="max-time">
          </div>
          </div>
          <input id="query-button" style='padding:0px' type="button" onclick="onQueryClick();" value="Submit">
          <p></p>
        </div>

        <p style="width:5%"></p>

        <div class="card col-sm-6">
          <header class="container">
            <h5><b><i class="fa fa-history" style="padding-top:20px;"></i> Historical Results</b></h5>
          </header>
          <table id="result-table" class="table striped white">
            <tr class="dark-gray">
              <td>Name</td>
              <td>In/Out</td>
              <td>Location</td>
              <td>Time</td>
            </tr>
          </table>
        </div>
    </div>
  </div>
   <div id="overlay" onclick="closeSidebar()"></div>
</body>
</html>

<script type="text/javascript">

var apiKey = Cookies.getJSON('apiKey');
document.getElementById('info-username').innerHTML = "Hi, "+apiKey.user.name;

  var minDateField = document.getElementById("min-date");
  var maxDateField = document.getElementById("max-date");

  var minTimeField = document.getElementById("min-time");
  var maxTimeField = document.getElementById("max-time");

  var calcDate = curDate();

  minDateField.value = calcDate;
  maxDateField.value = calcDate;

  $('.sidebar-link').addClass('list-group-item').addClass('list-group-item-action');

  if (true){
    $('.sidebar-link').addClass('bg-dark').addClass('text-light');
  }
  else {
    
  }
  $("#min-date").change(function() {
    checkValidRange("minField", minDateField, maxDateField, "date");
  });

  $("#max-date").change(function() {
    checkValidRange("maxField", minDateField, maxDateField, "date");
  });

  $("#min-time").change(function() {
    if(minDateField.value == maxDateField.value) {
      checkValidRange("minField", minTimeField, maxTimeField, "time");
    }
  });

  $("#max-time").change(function() {
    if(minDateField.value == maxDateField.value) {
      checkValidRange("maxField", minTimeField, maxTimeField, "time");
    }
  });
</script>